Item Master ERP Pilot Validation script

Error Master Table



---------Error Master Description, Status and Preferences-----------

--->Legal Entity

NAME is null --- Error --- 2
ADDRESSCITY is null --- Warning --- 3
ADDRESSCOUNTRYREGIONID is null --- Warning --- 3
ADDRESSCOUNTRYREGIONISOCODE is null --- Warning --- 3
ADDRESSCOUNTY is null --- Warning --- 3
ADDRESSDESCRIPTION is null --- Warning --- 3
ADDRESSDISTRICTNAME is null --- Warning --- 3
ADDRESSLOCATIONROLES is null --- Warning --- 3
ADDRESSSTATE is null --- Warning --- 3
ADDRESSSTREET is null --- Warning --- 3
ADDRESSVALIDFROM is null --- Warning --- 3
ADDRESSVALIDTO is null --- Warning --- 3
ADDRESSZIPCODE is null --- Warning --- 3
FULLPRIMARYADDRESS is null --- Warning --- 3
LANGUAGEID is null --- Warning --- 3
LEGALENTITYID is null --- Warning --- 3
NAMEALIAS is null --- Warning --- 3
PRIMARYCONTACTEMAIL is null --- Warning --- 3
PRIMARYCONTACTEMAILDESCRIPTION is null --- Warning --- 3
PRIMARYCONTACTEMAILPURPOSE is null --- Warning --- 3
PRIMARYCONTACTPHONE is null --- Warning --- 3
PRIMARYCONTACTPHONEDESCRIPTION is null --- Warning --- 3
PRIMARYCONTACTPHONEEXTENSION is null --- Warning --- 3
PRIMARYCONTACTPHONEPURPOSE is null --- Warning --- 3
REGISTRATIONNUMBER is null --- Warning --- 3
TIMEZONE is null --- Warning --- 3
USEFORFINANCIALCONSOLIDATIONPROCESS is null --- Warning --- 3
USEFORFINANCIALELIMINATIONPROCESS is null --- Warning --- 3

LEGALENTITYID has duplicate values --- Constraint --- 1

ADDRESSCITY is not there in NAME of City --- Error --- 2
ADDRESSCOUNTRYREGIONID is not there in COUNTRYREGION of country --- Error --- 2
ADDRESSCOUNTRYREGIONISOCODE is not there in ISOCODE of country --- Error --- 2
ADDRESSSTATE is not there in STATE of State --- Error --- 2
ADDRESSZIPCODE is not there in ZIPCODE of Zipcodes --- Error --- 2
LANGUAGEID is not there in LanguageCodeId of Language Codes --- Error --- 2







------ Validation Scripts ------


CREATE OR ALTER PROC PROC_DEMO_ARP_VALIDATE_ARP AS
BEGIN

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'Name is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Error', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		Name= '' or Name is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'ADDRESSCITY is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		ADDRESSCITY= '' or ADDRESSCITY is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'ADDRESSCOUNTRYREGIONID is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		ADDRESSCOUNTRYREGIONID= '' or ADDRESSCOUNTRYREGIONID is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'ADDRESSCOUNTRYREGIONISOCODE is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		ADDRESSCOUNTRYREGIONISOCODE= '' or ADDRESSCOUNTRYREGIONISOCODE is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'ADDRESSDESCRIPTION is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		ADDRESSDESCRIPTION= '' or ADDRESSDESCRIPTION is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'ADDRESSLOCATIONROLES is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		ADDRESSLOCATIONROLES= '' or ADDRESSLOCATIONROLES is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'ADDRESSSTATE is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		ADDRESSSTATE= '' or ADDRESSSTATE is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'FULLPRIMARYADDRESS is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		FULLPRIMARYADDRESS= '' or FULLPRIMARYADDRESS is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'LANGUAGEID is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		LANGUAGEID= '' or LANGUAGEID is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'LEGALENTITYID is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		LEGALENTITYID= '' or LEGALENTITYID is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'NAMEALIAS is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		NAMEALIAS= '' or NAMEALIAS is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'PRIMARYCONTACTEMAIL is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		PRIMARYCONTACTEMAIL= '' or PRIMARYCONTACTEMAIL is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'PRIMARYCONTACTEMAILDESCRIPTION is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		PRIMARYCONTACTEMAILDESCRIPTION= '' or PRIMARYCONTACTEMAILDESCRIPTION is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'PRIMARYCONTACTEMAILPURPOSE is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		PRIMARYCONTACTEMAILPURPOSE= '' or PRIMARYCONTACTEMAILPURPOSE is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'PRIMARYCONTACTPHONE is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		PRIMARYCONTACTPHONE= '' or PRIMARYCONTACTPHONE is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'PRIMARYCONTACTPHONEDESCRIPTION is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		PRIMARYCONTACTPHONEDESCRIPTION= '' or PRIMARYCONTACTPHONEDESCRIPTION is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'PRIMARYCONTACTPHONEPURPOSE is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		PRIMARYCONTACTPHONEPURPOSE= '' or PRIMARYCONTACTPHONEPURPOSE is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'USEFORFINANCIALCONSOLIDATIONPROCESS is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		USEFORFINANCIALCONSOLIDATIONPROCESS= '' or USEFORFINANCIALCONSOLIDATIONPROCESS is null

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'USEFORFINANCIALELIMINATIONPROCESS is blank','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Warning', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		USEFORFINANCIALELIMINATIONPROCESS= '' or USEFORFINANCIALELIMINATIONPROCESS is null


UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'LEGALENTITYID has duplicate values','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Constraint', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE
		LEGALENTITYID IS NOT NULL AND LEGALENTITYID IN 
		(SELECT LEGALENTITYID FROM PWC_E_LEGALENTITY
		GROUP BY LEGALENTITYID HAVING COUNT(*)>1)

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'ADDRESSCITY is not there in NAME of City','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Error', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		ADDRESSCITY IS NOT NULL AND ADDRESSCITY NOT IN 
		(SELECT B.NAME FROM PWC_E_CITY B WHERE B.NAME IS NOT NULL)

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'ADDRESSCOUNTRYREGIONID is not there in COUNTRYREGION of country','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Error', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		ADDRESSCOUNTRYREGIONID IS NOT NULL AND ADDRESSCOUNTRYREGIONID NOT IN 
		(SELECT B.COUNTRYREGION FROM PWC_E_COUNTRYREGION B WHERE B.COUNTRYREGION IS NOT NULL)

UPDATE PWC_E_LEGALENTITY
	SET ERRORDESC = CONCAT(ERRORDESC,'ADDRESSSTATE is not there in STATE of State','; ')
	,ERRORSTATUS = CONCAT(ERRORSTATUS, 'Error', '; ')
	FROM PWC_E_LEGALENTITY
	WHERE 
		ADDRESSSTATE IS NOT NULL AND ADDRESSSTATE NOT IN 
		(SELECT B.STATE FROM PWC_E_STATE B WHERE B.STATE IS NOT NULL)










